{% extends "../../../_layouts/layout-dfe-schoolnav.html" %}
{% set pageName="Run a manual batch check for multiple parents or guardians?" %}
{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-l">{{pageName}}</h1>

    <p class="govuk-body">
      Export and upload a CTF from your school system or complete and upload our template to run a batch check on free
      school meal applications.
    </p>
<!--
    <details class="govuk-details">
      <summary class="govuk-details__summary">
        <span class="govuk-details__summary-text">
          How to extract a Common File Transfer (CTF) from your school management information system
        </span>
      </summary>
      <div class="govuk-details__text">
        <p class="govuk-body">Follow the instructions below to extract your CTF:</p>
        <ol class="govuk-list govuk-list--number">

          <li>Navigate to your school management information system (this could be SIMS or XXX or any other system your
            school uses) in the admin area of your school management information system </li>
          <li>Select export pupil data </li>
          <li>Save the exported file on your computer </li>
          <li>Add in any additional information that your system doesn't collect (for example National Insurance) and
            resave the file as a XML</li>
          <li>Navigate to the saved CTF and select your chosen file</li>
        </ol>
        </ul>
      </div>
    </details> -->
    <hr class="govuk-section-break govuk-section-break--m govuk-section-break">
    <!-- <h2 class="govuk-heading-m">Upload a Common File Transfer (CTF) from your school management information system</h2> -->

    <h3 class="govuk-heading-m">Upload a XML file or a CSV</h3>

    <!-- <p class="govuk-heading-s">Upload a file</p> -->

    {% from "govuk/components/file-upload/macro.njk" import govukFileUpload %}

    {{ govukFileUpload({
    id: "file-upload-1",
    name: "fileUpload1",
    label: {
    text: ""
    }
    }) }}


    <p class="govuk-heading-s">
      How to extract a Common File Transfer (CTF) from your school management information system
    </p>
    </summary>
    <div class="govuk">
      <p class="govuk-body">Follow the instructions below to extract your CTF:</p>
      <ol class="govuk-list govuk-list--number">

        <li>Navigate to your school management information system (this could be SIMS or XXX or any other system your
          school uses) in the admin area of your school management information system </li>
        <li>Select export pupil data </li>
        <li>Save the exported file on your computer </li>
        <li>Add in any additional information that your system doesn't collect (for example National Insurance) and
          resave the file as a XML</li>
        <li>Navigate to the saved CTF and select your chosen file</li>
      </ol>
      </ul>
    </div>

    <hr class="govuk-section-break govuk-section-break--m govuk-section-break">


    <p class="govuk-heading-s">Uploading a CSV file from the template</p>

    <p class="govuk-body">Follow the instructions below to use our CSV template:</p>
    <ol class="govuk-list govuk-list--number">
      <li>Download the <a href="/public/csv/Batch-check-template.csv" download class="govuk-link">batch
          check template. (185kb) </a></li>
      <li>Add the details of all parents you need to check, including: Name, Date of birth, National Insurance number or
        Asylum support reference number</li>
     <li> Save it as a CSV file</li>
      <li>Select the completed template to upload</li>


      <hr class="govuk-section-break govuk-section-break--m govuk-section-break">


      {{ govukButton({
      text: "Upload and run a CTF batch check",
      classes: "govuk-button--primary",
      href: '../batch-checking/imported-records'
      }) }}




      <hr class="govuk-section-break govuk-section-break--m govuk-section-break">




      {% endblock %}
      {% block pageScripts %}
      <!-- Add any javascript files here.

Include javascript files only on the pages
that need them. Excessive javascript files loaded on other pages may slow down
the response times of the prototype. -->
      <script type="text/javascript" src="/public/javascripts/moj/all.js"></script>

      <script type="text/javascript">
        if (typeof MOJFrontend.MultiFileUpload !== "undefined") {
          new MOJFrontend.MultiFileUpload({
            container: $(".moj-multi-file-upload"),
            uploadUrl: "/ajax-upload",
            deleteUrl: "/ajax-delete",
          });
        }
      </script>
      {% endblock %}