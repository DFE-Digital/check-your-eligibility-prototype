{% extends "/layouts/FSM/v7-3/layout-dfe-lanav.html" %}
{% set pageName="Uploaded file contains 4 errors" %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full-width">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h1 class="govuk-heading-l" style="margin: 1;">{{pageName}}</h1>
      <div style="display: flex;">
        <div class="govuk-button-group" style="display: flex;">
          <!-- {{ govukButton({
            text: "Remove errors",
            href:'../records/pending-approve-areyousure'
          }) }} -->
          {{ govukButton({
            text: "Export error list",
            classes: 'govuk-button--secondary',
            href:'../records/pending-decline-areyousure'
          }) }}
        </div>
      </div>
    </div>

    <article class="moj-ticket-panel" aria-label="Sub navigation 1">
      <section class="moj-ticket-panel__content  moj-ticket-panel__content--red" aria-label="Section 1">
        <h2 class="govuk-heading-m govuk-!-margin-bottom-2">You must fix these errors and upload a new file.</h2>

        <ol class="govuk-list govuk-list--number">
          <li>Return to your system.</li>
          <li>Fix the errors.</li>
          <li>Download a new file.</li>
          <li>Upload it again.</li>
        </ol>
      </section>
    </article>
  </div>

  <div class="govuk-grid-column-full">

    <div id="ready-section" class="govuk-table-section">
      <div class="govuk-grid-column-two-thirds">
        <!-- <h2 class="govuk-heading-l">Ready to check</h2> -->
      </div>
    </div>

    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Parent <br>first name</th>
          <th scope="col" class="govuk-table__header">Parent last name</th>
          <th scope="col" class="govuk-table__header">Parent date <br>of birth</th>
          <th scope="col" class="govuk-table__header">National Insurance</th>
          <th scope="col" class="govuk-table__header">Child</th>
          <th scope="col" class="govuk-table__header govuk-table__header--date">Child date <br>of birth</th>
          <th scope="col" class="govuk-table__header">Contact email</th>
          <th scope="col" class="govuk-table__header">Error</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        <tr class="govuk-table__row">
          <td class="govuk-table__cell">Eden</td>
          <td class="govuk-table__cell">Tesfay</td>
          <td class="govuk-table__cell govuk-table__cell--date">27 April 1973</td>
          <td class="govuk-table__cell">NW123456b</td>
          <td class="govuk-table__cell">Samuel Tesfay</td>
          <td class="govuk-table__cell govuk-table__cell--date">12 Jan 2017</td>
          <td class="govuk-table__cell">edentesfay@icloud.com</td>
          <td class="govuk-table__cell"><span class="text-red">Issue with National Insurance number</span></td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell">Eden</td>
          <td class="govuk-table__cell">Tesfay</td>
          <td class="govuk-table__cell govuk-table__cell--date">27 April 1973</td>
          <td class="govuk-table__cell">NW123456b</td>
          <td class="govuk-table__cell">Samuel Tesfay</td>
          <td class="govuk-table__cell govuk-table__cell--date">12 Jan 2017</td>
          <td class="govuk-table__cell">edentesfay@icloud.com</td>
          <td class="govuk-table__cell"><span class="text-red">Issue with parent date of birth</span></td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell">Eden</td>
          <td class="govuk-table__cell">Tesfay</td>
          <td class="govuk-table__cell govuk-table__cell--date">27 April 1973</td>
          <td class="govuk-table__cell">NW123456b</td>
          <td class="govuk-table__cell">Samuel Tesfay</td>
          <td class="govuk-table__cell govuk-table__cell--date">12 Jan 2017</td>
          <td class="govuk-table__cell">edentesfay@icloud.com</td>
          <td class="govuk-table__cell"><span class="text-red">Issue with National Insurance number</span></td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell">Eden</td>
          <td class="govuk-table__cell">Tesfay</td>
          <td class="govuk-table__cell govuk-table__cell--date">27 April 1973</td>
          <td class="govuk-table__cell">NW123456b</td>
          <td class="govuk-table__cell">Samuel Tesfay</td>
          <td class="govuk-table__cell govuk-table__cell--date">12 Jan 2017</td>
          <td class="govuk-table__cell">edentesfay@icloud.com</td>
          <td class="govuk-table__cell"><span class="text-red">Issue with first name</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <a href="manual.html" class="govuk-button govuk-!-margin-bottom-1" data-module="govuk-button">
    Delete this file and start again
  </a>

</div>

{% endblock %}

{% block pageScripts %}

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('.moj-sub-navigation__link');
    const sections = document.querySelectorAll('.govuk-table-section');

    // Initially hide all sections except the one corresponding to the active link
    const activeLink = document.querySelector('.moj-sub-navigation__link[aria-current="true"]');
    const targetId = activeLink ? activeLink.getAttribute('data-section') : 'ready-section';

    sections.forEach(section => {
      section.style.display = section.id === targetId ? 'block' : 'none';
    });

    // Add event listeners to handle tab switching
    navLinks.forEach(link => {
      link.addEventListener('click', function (event) {
        event.preventDefault();

        // Update aria-current for navigation links
        navLinks.forEach(nav => nav.removeAttribute('aria-current'));
        this.setAttribute('aria-current', 'true');

        // Show only the corresponding section
        const newTargetId = this.getAttribute('data-section');
        sections.forEach(section => {
          section.style.display = section.id === newTargetId ? 'block' : 'none';
        });
      });
    });
  });
</script>

{% endblock %}
